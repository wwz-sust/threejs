<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        *{margin: 0;padding: 0;}
    </style>
</head>
<body>
    
</body>
<script type="importmap">
{
    "imports": {
        "three": "../js/three.module.min.js",
        "controls": "../jsm/controls/OrbitControls.js"
    }
}
</script>
<script type="module">
import * as THREE from "three";
import { OrbitControls } from "controls";
import points from "./model.js";

var scene = new THREE.Scene();
scene.add(points);
scene.background = new THREE.Color("#fff");

const width = window.innerWidth;
const height = window.innerHeight;

var pointLight = new THREE.PointLight(0xfffff, 1.0);
pointLight.decay = 0.0 // 这个是光源衰减程度，默认是2.0，这里设置0.0意思是不衰减
pointLight.position.set(200,500,300);
scene.add(pointLight);

// 创建一个坐标轴
var axesHelper = new THREE.AxesHelper(230);
scene.add(axesHelper);


var camera = new THREE.PerspectiveCamera(70, width/height, 0.5, 2000);
camera.position.set(300,300,300);
camera.lookAt(new THREE.Vector3(0, 0, 0)); // 调整相机的朝向位置

// 创建一个渲染器
const renderer = new THREE.WebGLRenderer();
renderer.setSize(width, height);
document.body.appendChild(renderer.domElement);

var boxControls = new OrbitControls(camera, renderer.domElement);
boxControls.addEventListener("change",function(){
    // console.log(camera.position); 这里可以证明改变时，移动了相机的位置
    renderer.render(scene, camera);
})


// 循环动画
function loopAnimate(){
    renderer.render(scene, camera); 
    requestAnimationFrame(loopAnimate);
};
loopAnimate();
</script>
</html>